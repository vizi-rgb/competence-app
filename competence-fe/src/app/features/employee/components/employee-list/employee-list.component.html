<div class="employee-list content">
  <div>
    <h1 class="employee-list__title">
      {{ 'employee.list.title' | translate }}
    </h1>

    <div class="employee-list__element">
      <button
        class="employee-list__button employee-list__add-button employee-list__add-button--hover content"
        (click)="onAddEmployeeSelected()">
        <span>+</span>
      </button>
    </div>
    @for (employee of employees$ | async; track employee.id) {
      <div class="employee-list__element">
        <button
          class="employee-list__button employee-list__button--hover content"
          [class.employee-list__button--selected]="
            employee === selectedEmployee &&
            (selectedMode === Mode.VIEW || selectedMode === Mode.EDIT)
          "
          (click)="onEmployeeSelect(employee)">
          <span>{{ $index + 1 }}.</span>
          <span>{{ employee.name + ' ' + employee.surname }}</span>
        </button>
      </div>
    }
  </div>

  @switch (selectedMode) {
    @case (Mode.VIEW) {
      <div class="employee-list__overview">
        <app-employee-details
          [employee]="selectedEmployee"
          (editEmployeeSelected)="
            onEditEmployeeSelected()
          "></app-employee-details>
      </div>
    }
    @case (Mode.EDIT) {
      <div class="employee-list__overview">
        <app-employee-form
          [employee]="selectedEmployee"
          (editCanceled)="onEditCanceled()"
          (formSubmitted)="onEditFormSubmitted($event)"></app-employee-form>
      </div>
    }
    @case (Mode.ADD) {
      <div class="employee-list__overview">
        <app-employee-form
          (formSubmitted)="onAddEmployeeSubmitted($event)"
          (editCanceled)="onAddEmployeeCanceled()"></app-employee-form>
      </div>
    }
    @default {}
  }
</div>
